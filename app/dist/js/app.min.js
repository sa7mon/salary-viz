"use strict";var csvData,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},graphSample=[{COL_DIV_CODE:"Academic Affairs",BASE:67778.9},{COL_DIV_CODE:"Finance and Administration",BASE:75000.1},{COL_DIV_CODE:"Arts and Humanities, College of",BASE:68109}];function loadData(a){$.ajax({type:"GET",url:"data/data_sampled.csv",dataType:"text",success:function(t){for(var e=(csvData=$.csv.toObjects(t)).length-1;0<=e;e--)void 0!==csvData[e].BASE&&(csvData[e].BASE=Number(csvData[e].BASE.replace("$","").replace(",",""))),void 0!==csvData[e].YTD&&(csvData[e].YTD=Number(csvData[e].YTD.replace("$","").replace(",","")));a(csvData)},error:function(t){console.log("[loadData] Error loading data: ",t)}})}function createTable(t){console.log(t);var e=$("#salary-table").DataTable({data:t,columns:[{data:"FIRST_LAST_INITIALS",title:"Initials"},{data:"LONG_DESC",title:"Description"},{data:"COL_DIV_CODE",title:"Department"},{data:"JOB_TITLE",title:"Job Title"},{data:"TENURE_DEC_YR_MO",title:"Tenure Date",render:function(t,e,a){return"sort"===e||"type"===e||""==t?t:moment(t,"YYYYMM").format("MMMM YYYY")}},{data:"EMPT_STATE_DATE",title:"Start Date",render:function(t,e,a){return"sort"===e||"type"===e||""==t?t:moment(t,"YYYYMMDD").format("MMM DD, YYYY")}},{data:"BASE",title:"Base",render:renderMoney},{data:"YTD",title:"YTD",render:renderMoney}],orderCellsTop:!0,fixedHeader:!0}),a=$("#salary-table thead tr:eq(0) th").length;$("#salary-table thead").append("<tr></tr>");for(var r=0;r<a;r++)$("#salary-table thead tr:eq(1)").append("<th></th>");$("#salary-table thead tr:eq(1) th").each(function(t){0==t?$(this).html('<input type="text" class="table-search width-0" placeholder="Search" />'):4==t||5==t||6==t||7==t?$(this).html('<input type="text" class="table-search width-1" placeholder="Search" />'):$(this).html('<input type="text" class="table-search" placeholder="Search" />'),$("input",this).on("keyup change",function(){e.column(t).search()!==this.value&&e.column(t).search(this.value).draw()})})}function graph(t){d3.select(".chart").selectAll("div").data(t).enter().append("div").style("width",function(t){return t.BASE/100+"px"}).text(function(t){return t.BASE})}function graph2(t){var e=80,a=440,r=graphSample.reduce(function(t,e){return e.BASE>t.BASE?e:t}),n=d3.select("svg"),o=n.append("g").attr("transform","translate(80, 80)"),i=d3.scaleLinear().range([a,0]).domain([0,r.BASE]);o.append("g").call(d3.axisLeft(i));var l=d3.scaleBand().range([0,840]).domain(graphSample.map(function(t){return t.COL_DIV_CODE})).padding(.2);o.append("g").attr("transform","translate(0, 440)").call(d3.axisBottom(l)),o.append("g").attr("class","grid").call(d3.axisLeft().scale(i).tickSize(-840,0,0).tickFormat("")),o.selectAll().data(graphSample).enter().append("rect").attr("x",function(t){return l(t.COL_DIV_CODE)}).attr("y",function(t){return i(t.BASE)}).attr("height",function(t){return a-i(t.BASE)}).attr("width",l.bandwidth()),n.append("text").attr("x",-300).attr("y",e/2.4).attr("transform","rotate(-90)").attr("text-anchor","middle").text("Base ($)"),n.append("text").attr("x",500).attr("y",560).attr("text-anchor","middle").text("X Label")}function renderMoney(t,e,a){return"sort"===e||"type"===e||""==t?t:"$"+formatMoney(t,2,".",",")}function formatMoney(t,e,a,r){e=isNaN(e=Math.abs(e))?2:e,a=null==a?".":a,r=null==r?",":r;var n=t<0?"-":"",o=String(parseInt(t=Math.abs(Number(t)||0).toFixed(e))),i=3<(i=o.length)?i%3:0;return n+(i?o.substr(0,i)+r:"")+o.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+r)+(e?a+Math.abs(t-o).toFixed(e).slice(2):"")}function groupByCollege(){var t=[{BASE:44036,COL_DIV_CODE:"Facilities Management",EMPT_STATE_DATE:"20031017",FIRST_LAST_INITIALS:"TB",JOB_TITLE:"General Maintenance Wrkr Lead",LONG_DESC:"Building Services",TENURE_DEC_YR_MO:"",YTD:16357.55},{BASE:48399,COL_DIV_CODE:"Undergraduate Education",EMPT_STATE_DATE:"20110613",FIRST_LAST_INITIALS:"TN",JOB_TITLE:"MSUAASF Range C",LONG_DESC:"Center for Academic Success",TENURE_DEC_YR_MO:"",YTD:19113.9},{BASE:69381,COL_DIV_CODE:"Facilities Management",EMPT_STATE_DATE:"20160815",FIRST_LAST_INITIALS:"MK",JOB_TITLE:"State University Faculty",LONG_DESC:"Biological Sciences",TENURE_DEC_YR_MO:"202204",YTD:23954.94},{BASE:68471,COL_DIV_CODE:"Facilities Management",EMPT_STATE_DATE:"19970903",FIRST_LAST_INITIALS:"JC",JOB_TITLE:"MSUAASF Range C",LONG_DESC:"Business, College of",TENURE_DEC_YR_MO:"",YTD:25899.06},{BASE:74490,COL_DIV_CODE:"Facilities Management",EMPT_STATE_DATE:"20140818",FIRST_LAST_INITIALS:"AD",JOB_TITLE:"State University Faculty",LONG_DESC:"Physics & Astronomy",TENURE_DEC_YR_MO:"201904",YTD:17763},{BASE:48438,COL_DIV_CODE:"Undergraduate Education",EMPT_STATE_DATE:"20140609",FIRST_LAST_INITIALS:"KS",JOB_TITLE:"MSUAASF Range B",LONG_DESC:"Center for English Language Programs",TENURE_DEC_YR_MO:"",YTD:4098.59},{BASE:52367,COL_DIV_CODE:"Undergraduate Education",EMPT_STATE_DATE:"20110221",FIRST_LAST_INITIALS:"TM",JOB_TITLE:"Building Services Forman",LONG_DESC:"Building Services",TENURE_DEC_YR_MO:"",YTD:18953.44}],e={};console.log(void 0===t?"undefined":_typeof(t)),t.forEach(function(t){null==e[t.COL_DIV_CODE]?(e[t.COL_DIV_CODE]={},e[t.COL_DIV_CODE].sum=t.BASE,e[t.COL_DIV_CODE].count=1):(e[t.COL_DIV_CODE].sum+=t.BASE,e[t.COL_DIV_CODE].count+=1),e[t.COL_DIV_CODE].average=e[t.COL_DIV_CODE].sum/e[t.COL_DIV_CODE].count}),console.log(e)}