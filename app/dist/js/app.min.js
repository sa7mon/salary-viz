"use strict";var csvData;function loadData(a){$.ajax({type:"GET",url:"data/data_sampled.csv",dataType:"text",success:function(t){for(var e=(csvData=$.csv.toObjects(t)).length-1;0<=e;e--)void 0!==csvData[e].BASE&&(csvData[e].BASE=Number(csvData[e].BASE.replace("$","").replace(",",""))),void 0!==csvData[e].YTD&&(csvData[e].YTD=Number(csvData[e].YTD.replace("$","").replace(",","")));a(csvData)},error:function(t){console.log("[loadData] Error loading data: ",t)}})}function createTable(t){var e=$("#salary-table").DataTable({data:t,columns:[{data:"FIRST_LAST_INITIALS",title:"Initials"},{data:"LONG_DESC",title:"Description"},{data:"COL_DIV_CODE",title:"Department"},{data:"JOB_TITLE",title:"Job Title"},{data:"TENURE_DEC_YR_MO",title:"Tenure Date",render:function(t,e,a){return"sort"===e||"type"===e||""==t?t:moment(t,"YYYYMM").format("MMMM YYYY")}},{data:"EMPT_STATE_DATE",title:"Start Date",render:function(t,e,a){return"sort"===e||"type"===e||""==t?t:moment(t,"YYYYMMDD").format("MMM DD, YYYY")}},{data:"BASE",title:"Base",render:renderMoney},{data:"YTD",title:"YTD",render:renderMoney}],orderCellsTop:!0,fixedHeader:!0}),a=$("#salary-table thead tr:eq(0) th").length;$("#salary-table thead").append("<tr></tr>");for(var r=0;r<a;r++)$("#salary-table thead tr:eq(1)").append("<th></th>");$("#salary-table thead tr:eq(1) th").each(function(t){0==t?$(this).html('<input type="text" class="table-search width-0" placeholder="Search" />'):4==t||5==t||6==t||7==t?$(this).html('<input type="text" class="table-search width-1" placeholder="Search" />'):$(this).html('<input type="text" class="table-search" placeholder="Search" />'),$("input",this).on("keyup change",function(){e.column(t).search()!==this.value&&e.column(t).search(this.value).draw()})})}function graph(t){d3.select(".chart").selectAll("div").data(t).enter().append("div").style("width",function(t){return t.BASE/1e3+"px"}).text(function(t){return t.BASE})}function toNumber(t){return Number(t.replace("$",""))}function renderMoney(t,e,a){return"sort"===e||"type"===e||""==t?t:"$"+formatMoney(t,2,".",",")}function formatMoney(t,e,a,r){e=isNaN(e=Math.abs(e))?2:e,a=null==a?".":a,r=null==r?",":r;var n=t<0?"-":"",l=String(parseInt(t=Math.abs(Number(t)||0).toFixed(e))),s=3<(s=l.length)?s%3:0;return n+(s?l.substr(0,s)+r:"")+l.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+r)+(e?a+Math.abs(t-l).toFixed(e).slice(2):"")}